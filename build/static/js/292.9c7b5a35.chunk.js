"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[292],{292:function(e,n,t){t.r(n),t.d(n,{CreateNewAccountModal:function(){return O}});var r=t(4942),s=t(1413),c=t(93433),a=t(74165),o=t(15861),i=t(29439),l=t(72791),u=t(28620),d=t(8007),h=t(64554),x=t(3768),f=t(13400),p=t(36151),m=t(5289),Z=t(65661),v=t(39157),y=t(1582),j=t(68096),b=t(94925),g=t(99321),w=t(84638),C=t(48550),k=t(47071),N=t(97123),K=t(78983),S=t(38820),E=t(5397),T=t(80184),O=function(e){var n=e.open,t=e.columns,c=e.onClose,u=e.onSubmit,d=(0,l.useState)((function(){return t.reduce((function(e,n){var t;return e[null!==(t=n.accessorKey)&&void 0!==t?t:""]="",e}),{})})),h=(0,i.Z)(d,2),x=h[0],f=h[1],S=(0,l.useState)(!1),E=(0,i.Z)(S,2),O=E[0],A=E[1],P=(0,l.useState)(!1),z=(0,i.Z)(P,2),D=z[0],F=z[1],I=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},t.forEach((function(e){"id"===e.accessorKey||x[e.accessorKey]?"contact"!==e.accessorKey||/^\d{10}$/.test(x[e.accessorKey])?["contact"].includes(e.accessorKey)&&isNaN(Number(x[e.accessorKey]))?n[e.accessorKey]="Must be a number":["name","location"].includes(e.accessorKey)&&!/^[A-Za-z0-9- ]+$/.test(x[e.accessorKey])&&(n[e.accessorKey]="Must contain only letters and spaces"):n[e.accessorKey]="Must contain exactly 10 numbers":n[e.accessorKey]="Field required"})),R(n),0!==Object.keys(n).length){e.next=11;break}return e.next=6,u(x);case 6:c(),A(!0),f(t.reduce((function(e,n){var t;return e[null!==(t=n.accessorKey)&&void 0!==t?t:""]="",e}),{})),e.next=12;break;case 11:F(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=(0,l.useState)({}),q=(0,i.Z)(M,2),L=q[0],R=q[1];return(0,T.jsxs)(T.Fragment,{children:[O&&(0,T.jsx)(K.oo,{autohide:!0,visible:!0,color:"success",className:"text-white align-items-center",style:{position:"fixed",right:"20px",top:"70px",zIndex:"10000"},onClose:function(){A(!1)},children:(0,T.jsxs)("div",{className:"d-flex",children:[(0,T.jsx)(K.S3,{children:"Data submitted successfully."}),(0,T.jsx)(K.Pv,{className:"me-2 m-auto",white:!0})]})}),D&&(0,T.jsx)(K.oo,{autohide:!0,visible:!0,className:"text-white align-items-center",style:{position:"fixed",right:"20px",top:"70px",zIndex:"10000"},color:"danger",onClose:function(){F(!1)},children:(0,T.jsxs)("div",{className:"d-flex",children:[(0,T.jsx)(K.S3,{children:"Please fix all the errors"}),(0,T.jsx)(K.Pv,{className:"me-2 m-auto",white:!0})]})}),(0,T.jsxs)(m.Z,{open:n,children:[(0,T.jsx)(Z.Z,{textAlign:"center",children:"Create New Brand"}),(0,T.jsx)(v.Z,{children:(0,T.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,T.jsx)(y.Z,{sx:{width:"100%",minWidth:{xs:"300px",sm:"360px",md:"400px"},gap:"1.5rem"},children:t.filter((function(e){return"id"!==e.accessorKey})).map((function(e){return(0,T.jsxs)(j.Z,{error:!!L[e.accessorKey],children:["condition"===e.accessorKey?(0,T.jsxs)(j.Z,{fullWidth:!0,children:[(0,T.jsx)(b.Z,{children:"SELECT CONDITION"}),(0,T.jsxs)(g.Z,{value:x[e.accessorKey],onChange:function(n){return f((0,s.Z)((0,s.Z)({},x),{},(0,r.Z)({},e.accessorKey,n.target.value)))},fullWidth:!0,children:[(0,T.jsx)(w.Z,{value:"",children:"Select Condition"}),(0,T.jsx)(w.Z,{value:"New",children:"New"}),(0,T.jsx)(w.Z,{value:"Used - Like New",children:"Used - Like New"}),(0,T.jsx)(w.Z,{value:"Used",children:"Used"})]})]}):"warranty"===e.accessorKey?(0,T.jsxs)(j.Z,{fullWidth:!0,children:[(0,T.jsx)(b.Z,{children:"SELECT WARRANTY"}),(0,T.jsxs)(g.Z,{value:x[e.accessorKey],onChange:function(n){return f((0,s.Z)((0,s.Z)({},x),{},(0,r.Z)({},e.accessorKey,n.target.value)))},fullWidth:!0,children:[(0,T.jsx)(w.Z,{value:"",children:"Select Warranty"}),(0,T.jsx)(w.Z,{value:1,children:"1 Year"}),(0,T.jsx)(w.Z,{value:2,children:"2 Years"}),(0,T.jsx)(w.Z,{value:3,children:"3 Years"})]})]}):(0,T.jsx)(C.Z,{label:e.header,name:e.accessorKey,type:"number"===e.type?"number":"text",value:x[e.accessorKey],onChange:function(e){return f((0,s.Z)((0,s.Z)({},x),{},(0,r.Z)({},e.target.name,e.target.value)))}}),L[e.accessorKey]&&(0,T.jsx)(k.Z,{children:L[e.accessorKey]})]},e.accessorKey)}))})})}),(0,T.jsxs)(N.Z,{sx:{p:"1.25rem"},children:[(0,T.jsx)(p.Z,{onClick:c,children:"Cancel"}),(0,T.jsx)(p.Z,{color:"info",onClick:I,variant:"contained",children:"Create"})]})]})]})},A=function(e){return!!e.length},P=function(e){return!!e.length&&e.toLowerCase().match(/^(([^<>()[\]\\.,:\s@"]+(\.[^<>()[\]\\.,:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},z=function(e){return e>=18&&e<=50};n.default=function(){var e=(0,l.useState)(!1),n=(0,i.Z)(e,2),t=n[0],m=n[1],Z=(0,l.useState)([]),v=(0,i.Z)(Z,2),y=v[0],j=v[1],b=(0,l.useState)({}),g=(0,i.Z)(b,2),w=g[0],C=g[1],k=(0,l.useState)(!1),N=(0,i.Z)(k,2),D=N[0],F=N[1],I=(0,l.useState)(!1),M=(0,i.Z)(I,2),q=M[0],L=M[1],R=(0,l.useCallback)((0,o.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8080/brands/all",{method:"GET"});case 3:if(!(n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:t=e.sent,j(t),e.next=12;break;case 11:console.error("Failed to fetch data from the Oracle database");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error occurred while fetching data:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[]);(0,l.useEffect)((function(){R()}),[R]);var W=d.Ry().shape({name:d.Z_().required("Name is required"),contact:d.Z_().required("Contact is required"),location:d.Z_().required("Location is required")}),B=(0,l.useState)(!1),U=(0,i.Z)(B,1)[0],Y=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var t,r,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.validate(n,{abortEarly:!1});case 3:return e.next=5,fetch("http://localhost:8080/brands/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:if(!(t=e.sent).ok){e.next=17;break}return e.next=9,t.text();case 9:r=e.sent,s=r?JSON.parse(r):{},o=[].concat((0,c.Z)(y),[s]),j(o),m(!1),R(),e.next=19;break;case 17:console.error("4444444444"),U(!0);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("Error occurred while creating a new row:",e.t0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(n){return e.apply(this,arguments)}}(),J=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var t,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.exitEditingMode,r=n.row,s=n.values,Object.keys(w).length){e.next=12;break}return e.prev=2,e.next=5,fetch("http://localhost:8080/brands/update/".concat(r.original.name),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 5:e.sent.ok?(y[r.index]=s,j((0,c.Z)(y)),t(),L(!0)):console.error("Failed to save row edits"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error occurred while saving row edits:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}(),$=(0,l.useState)(null),_=(0,i.Z)($,2),G=_[0],H=_[1],Q=(0,l.useState)(!1),V=(0,i.Z)(Q,2),X=V[0],ee=V[1],ne=(0,l.useCallback)((0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=11;break}return e.prev=1,e.next=4,fetch("http://localhost:8080/brands/delete/".concat(G.original.name),{method:"DELETE"});case 4:e.sent.ok?(y.splice(G.index,1),j((0,c.Z)(y)),te(),ee(!1)):console.error("Failed to delete a row"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error occurred while deleting a row:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[G,y]),te=function(){F(!0)},re=function(){F(!1)},se=(0,l.useCallback)((function(e){return{error:!!w[e.id],helperText:w[e.id],onBlur:function(n){("email"===e.column.id?P(n.target.value):"age"===e.column.id?z(+n.target.value):A(n.target.value))?(delete w[e.id],C((0,s.Z)({},w))):C((0,s.Z)((0,s.Z)({},w),{},(0,r.Z)({},e.id,"".concat(e.column.columnDef.header," is required"))))}}}),[w]),ce=(0,l.useMemo)((function(){return[{accessorKey:"id",header:"ID",enableColumnOrdering:!0,enableEditing:!1,enableSorting:!0,size:80},{accessorKey:"name",header:"NAME",size:140,muiTableBodyCellEditTextFieldProps:function(e){var n=e.cell;return(0,s.Z)((0,s.Z)({},se(n)),{},{type:"string"})}},{accessorKey:"location",header:"LOCATION",size:140,muiTableBodyCellEditTextFieldProps:function(e){var n=e.cell;return(0,s.Z)((0,s.Z)({},se(n)),{},{type:"string"})}},{accessorKey:"contact",header:"CONTACT",muiTableBodyCellEditTextFieldProps:function(e){var n=e.cell;return(0,s.Z)((0,s.Z)({},se(n)),{},{type:"number"})}}]}),[se]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(K.oo,{autohide:!0,visible:D,color:"success",className:"text-white align-items-center",style:{position:"fixed",right:"20px",top:"70px",zIndex:"10000"},onClose:re,children:(0,T.jsxs)("div",{className:"d-flex",children:[(0,T.jsx)(K.S3,{children:"Row deleted successfully!"}),(0,T.jsx)(K.Pv,{className:"me-2 m-auto",onClick:re})]})}),q&&(0,T.jsx)(K.oo,{autohide:!0,visible:!0,color:"success",className:"text-white align-items-center",style:{position:"fixed",right:"20px",top:"70px",zIndex:"10000"},onClose:function(){L(!1)},children:(0,T.jsxs)("div",{className:"d-flex",children:[(0,T.jsx)(K.S3,{children:"Data submitted successfully."}),(0,T.jsx)(K.Pv,{className:"me-2 m-auto",white:!0})]})}),(0,T.jsx)(u.ZP,{displayColumnDefOptions:{"mrt-row-actions":{muiTableHeadCellProps:{align:"center"},size:70}},columns:ce,data:y,editingMode:"modal",enableColumnOrdering:!0,enableEditing:!0,onEditingRowSave:J,onEditingRowCancel:function(){C({})},renderRowActions:function(e){var n=e.row,t=e.table;return(0,T.jsxs)(h.Z,{sx:{display:"flex",gap:"1rem",justifyContent:"center"},children:[(0,T.jsx)(x.Z,{arrow:!0,placement:"bottom",title:"Edit",children:(0,T.jsx)(f.Z,{onClick:function(){return t.setEditingRow(n)},children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)(x.Z,{arrow:!0,placement:"bottom",title:"Delete",children:(0,T.jsx)(f.Z,{color:"error",onClick:function(){H(n),ee(!0)},children:(0,T.jsx)(E.Z,{})})})]})},renderTopToolbarCustomActions:function(){return(0,T.jsx)(p.Z,{color:"info",onClick:function(){return m(!0)},variant:"contained",children:"Create New Brand"})}}),(0,T.jsx)(O,{columns:ce,open:t,onClose:function(){return m(!1)},onSubmit:Y}),(0,T.jsxs)(K.Tk,{backdrop:"static",visible:X,onClose:function(){return ee(!1)},children:[(0,T.jsx)(K.p0,{children:(0,T.jsx)(K.fl,{children:"Modal title"})}),(0,T.jsx)(K.sD,{children:"I will not close if you click outside my."}),(0,T.jsxs)(K.Ym,{children:[(0,T.jsx)(K.u5,{color:"secondary",onClick:function(){return ee(!1)},children:"Close"}),(0,T.jsx)(K.u5,{color:"primary",onClick:ne,children:"Save changes"})]})]})]})}}}]);
//# sourceMappingURL=292.9c7b5a35.chunk.js.map